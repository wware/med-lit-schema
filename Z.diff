diff --git a/query/explore_queries.ipynb b/query/explore_queries.ipynb
index 26a0322..668eb90 100644
--- a/query/explore_queries.ipynb
+++ b/query/explore_queries.ipynb
@@ -187,7 +186,9 @@
    "source": [
     "# Find FDA-approved drugs\n",
     "# Note: This assumes the properties JSONB field has an 'fda_approved' key\n",
-    "query = GraphQuery(DATABASE_URL).entities(entity_type=\"drug\").filter(fda_approved=\"true\").limit(20)\n",
+    "query = GraphQuery(DATABASE_URL).entities(\n",
+    "    entity_type=\"drug\"\n",
+    ").filter(fda_approved=\"true\").limit(20)\n",
     "\n",
     "results = query.execute()\n",
     "print_results(results)"
@@ -230,7 +231,12 @@
    "source": [
     "# Semantic search for entities similar to \"PARP inhibitor\"\n",
     "# Note: This requires embeddings to be populated in the database\n",
-    "query = GraphQuery(DATABASE_URL).semantic_search(\"PARP inhibitor\", entity_type=\"drug\", top_k=10, threshold=0.7)\n",
+    "query = GraphQuery(DATABASE_URL).semantic_search(\n",
+    "    \"PARP inhibitor\",\n",
+    "    entity_type=\"drug\",\n",
+    "    top_k=10,\n",
+    "    threshold=0.7\n",
+    ")\n",
     "\n",
     "# Note: Semantic search requires embedding generation which is not fully implemented\n",
     "# This is a placeholder to show the API\n",
@@ -320,7 +326,10 @@
    "outputs": [],
    "source": [
     "# Find high-confidence TREATS relationships\n",
-    "query = GraphQuery(DATABASE_URL).relationships(predicate=\"TREATS\", min_confidence=0.8).order_by(\"confidence\", \"desc\").limit(20)\n",
+    "query = GraphQuery(DATABASE_URL).relationships(\n",
+    "    predicate=\"TREATS\",\n",
+    "    min_confidence=0.8\n",
+    ").order_by(\"confidence\", \"desc\").limit(20)\n",
     "\n",
     "results = query.execute()\n",
     "print_results(results)\n",
@@ -344,7 +353,10 @@
    "source": [
     "# Find relationships with RCT or meta-analysis evidence\n",
     "# Note: This requires evidence table join (to be implemented)\n",
-    "query = GraphQuery(DATABASE_URL).relationships(predicate=\"TREATS\", min_confidence=0.7).with_evidence(study_types=[\"rct\", \"meta_analysis\"]).limit(20)\n",
+    "query = GraphQuery(DATABASE_URL).relationships(\n",
+    "    predicate=\"TREATS\",\n",
+    "    min_confidence=0.7\n",
+    ").with_evidence(study_types=[\"rct\", \"meta_analysis\"]).limit(20)\n",
     "\n",
     "print(\"Query with evidence filter:\")\n",
     "print(\"Note: Evidence filtering requires join with evidence table\")\n",
@@ -369,21 +381,21 @@
     "disease_results = disease_query.execute()\n",
     "\n",
     "if disease_results.count > 0:\n",
-    "    disease_id = disease_results.results[0][\"id\"]\n",
-    "    disease_name = disease_results.results[0][\"name\"]\n",
-    "\n",
+    "    disease_id = disease_results.results[0]['id']\n",
+    "    disease_name = disease_results.results[0]['name']\n",
+    "    \n",
     "    print(f\"Finding all relationships for: {disease_name} ({disease_id})\\n\")\n",
-    "\n",
+    "    \n",
     "    # Find all relationships where this disease is the object\n",
     "    query = GraphQuery(DATABASE_URL).relationships(object_id=disease_id).limit(50)\n",
     "    results = query.execute()\n",
     "    print_results(results)\n",
-    "\n",
+    "    \n",
     "    # Group by predicate\n",
     "    if results.count > 0:\n",
     "        df = results.to_dataframe()\n",
-    "        predicate_counts = df[\"predicate\"].value_counts()\n",
-    "\n",
+    "        predicate_counts = df['predicate'].value_counts()\n",
+    "        \n",
     "        print(\"\\nRelationship types:\")\n",
     "        display(predicate_counts)\n",
     "else:\n",
@@ -453,7 +465,11 @@
     "# Multi-hop traversal: Find symptoms of diseases treated by a drug\n",
     "# Note: This requires recursive CTE implementation\n",
     "\n",
-    "query = GraphQuery(DATABASE_URL).traverse(start={\"entity_type\": \"drug\", \"name\": \"aspirin\"}, path=[\"TREATS:disease\", \"HAS_SYMPTOM:symptom\"], max_hops=2)\n",
+    "query = GraphQuery(DATABASE_URL).traverse(\n",
+    "    start={\"entity_type\": \"drug\", \"name\": \"aspirin\"},\n",
+    "    path=[\"TREATS:disease\", \"HAS_SYMPTOM:symptom\"],\n",
+    "    max_hops=2\n",
+    ")\n",
     "\n",
     "print(\"Multi-hop traversal query:\")\n",
     "print(\"Note: Full implementation requires recursive CTEs\")\n",
@@ -474,7 +490,11 @@
    "outputs": [],
    "source": [
     "# Find diseases connected to a drug through protein and gene interactions\n",
-    "query = GraphQuery(DATABASE_URL).traverse(start={\"entity_type\": \"drug\", \"name\": \"tamoxifen\"}, path=[\"TARGETS:protein\", \"ENCODED_BY:gene\", \"ASSOCIATED_WITH:disease\"], max_hops=3)\n",
+    "query = GraphQuery(DATABASE_URL).traverse(\n",
+    "    start={\"entity_type\": \"drug\", \"name\": \"tamoxifen\"},\n",
+    "    path=[\"TARGETS:protein\", \"ENCODED_BY:gene\", \"ASSOCIATED_WITH:disease\"],\n",
+    "    max_hops=3\n",
+    ")\n",
     "\n",
     "print(\"3-hop mechanism of action query:\")\n",
     "show_query_sql(query)"
@@ -523,7 +543,10 @@
    "outputs": [],
    "source": [
     "# Get a relationship with evidence details\n",
-    "query = GraphQuery(DATABASE_URL).relationships(predicate=\"TREATS\", min_confidence=0.8).limit(1)\n",
+    "query = GraphQuery(DATABASE_URL).relationships(\n",
+    "    predicate=\"TREATS\",\n",
+    "    min_confidence=0.8\n",
+    ").limit(1)\n",
     "\n",
     "results = query.execute()\n",
     "\n",
@@ -533,7 +556,7 @@
     "    print(f\"Confidence: {rel.get('confidence', 'N/A')}\")\n",
     "    print(f\"Source papers: {rel.get('source_papers', 'N/A')}\")\n",
     "    print(f\"Evidence count: {rel.get('evidence_count', 'N/A')}\")\n",
-    "\n",
+    "    \n",
     "    # In a full implementation, we would join with the evidence table here\n",
     "    print(\"\\nNote: Detailed evidence requires join with evidence table\")\n",
     "else:\n",
@@ -554,7 +577,12 @@
    "outputs": [],
    "source": [
     "# Compare relationships by study quality\n",
-    "study_types = {\"RCT\": \"rct\", \"Meta-analysis\": \"meta_analysis\", \"Cohort\": \"cohort\", \"Case report\": \"case_report\"}\n",
+    "study_types = {\n",
+    "    \"RCT\": \"rct\",\n",
+    "    \"Meta-analysis\": \"meta_analysis\",\n",
+    "    \"Cohort\": \"cohort\",\n",
+    "    \"Case report\": \"case_report\"\n",
+    "}\n",
     "\n",
     "print(\"Relationships by study type:\")\n",
     "print(\"Note: This requires evidence table implementation\\n\")\n",
@@ -577,13 +605,16 @@
    "outputs": [],
    "source": [
     "# Get relationships and their source papers\n",
-    "query = GraphQuery(DATABASE_URL).relationships(predicate=\"TREATS\", min_confidence=0.8).limit(10)\n",
+    "query = GraphQuery(DATABASE_URL).relationships(\n",
+    "    predicate=\"TREATS\",\n",
+    "    min_confidence=0.8\n",
+    ").limit(10)\n",
     "\n",
     "results = query.execute()\n",
     "\n",
     "if results.count > 0:\n",
     "    df = results.to_dataframe()\n",
-    "\n",
+    "    \n",
     "    # Show relationships with their papers\n",
     "    print(\"Relationships with source papers:\\n\")\n",
     "    for idx, row in df.iterrows():\n",
@@ -607,25 +638,27 @@
    "outputs": [],
    "source": [
     "# Analyze evidence quality across relationships\n",
-    "query = GraphQuery(DATABASE_URL).relationships(predicate=\"TREATS\").limit(100)\n",
+    "query = GraphQuery(DATABASE_URL).relationships(\n",
+    "    predicate=\"TREATS\"\n",
+    ").limit(100)\n",
     "\n",
     "results = query.execute()\n",
     "\n",
     "if results.count > 0:\n",
     "    df = results.to_dataframe()\n",
-    "\n",
+    "    \n",
     "    # Analyze confidence scores\n",
     "    print(\"Evidence quality statistics:\\n\")\n",
-    "    print(df[\"confidence\"].describe())\n",
-    "\n",
+    "    print(df['confidence'].describe())\n",
+    "    \n",
     "    # Plot distribution\n",
     "    plot_confidence_distribution(results, \"TREATS Relationship Confidence Distribution\")\n",
-    "\n",
+    "    \n",
     "    # High vs low confidence\n",
-    "    high_conf = df[df[\"confidence\"] >= 0.8].shape[0]\n",
-    "    med_conf = df[(df[\"confidence\"] >= 0.6) & (df[\"confidence\"] < 0.8)].shape[0]\n",
-    "    low_conf = df[df[\"confidence\"] < 0.6].shape[0]\n",
-    "\n",
+    "    high_conf = df[df['confidence'] >= 0.8].shape[0]\n",
+    "    med_conf = df[(df['confidence'] >= 0.6) & (df['confidence'] < 0.8)].shape[0]\n",
+    "    low_conf = df[df['confidence'] < 0.6].shape[0]\n",
+    "    \n",
     "    print(\"\\nConfidence breakdown:\")\n",
     "    print(f\"  High (≥0.8): {high_conf}\")\n",
     "    print(f\"  Medium (0.6-0.8): {med_conf}\")\n",
@@ -655,7 +688,12 @@
    "outputs": [],
    "source": [
     "# Semantic search for drugs similar to \"chemotherapy\"\n",
-    "query = GraphQuery(DATABASE_URL).semantic_search(\"chemotherapy agent\", entity_type=\"drug\", top_k=20, threshold=0.7)\n",
+    "query = GraphQuery(DATABASE_URL).semantic_search(\n",
+    "    \"chemotherapy agent\",\n",
+    "    entity_type=\"drug\",\n",
+    "    top_k=20,\n",
+    "    threshold=0.7\n",
+    ")\n",
     "\n",
     "print(\"Semantic search for 'chemotherapy agent':\")\n",
     "print(\"Note: Requires embeddings to be populated in database\")\n",
@@ -676,7 +714,11 @@
    "outputs": [],
    "source": [
     "# Find diseases similar to \"cardiovascular disease\"\n",
-    "query = GraphQuery(DATABASE_URL).semantic_search(\"cardiovascular disease\", entity_type=\"disease\", top_k=15)\n",
+    "query = GraphQuery(DATABASE_URL).semantic_search(\n",
+    "    \"cardiovascular disease\",\n",
+    "    entity_type=\"disease\",\n",
+    "    top_k=15\n",
+    ")\n",
     "\n",
     "print(\"Finding diseases similar to 'cardiovascular disease':\")\n",
     "print(\"This would return diseases like:\")\n",
@@ -743,7 +785,9 @@
     "print(\"4. These are repurposing candidates!\\n\")\n",
     "\n",
     "# Step 1: Find disease\n",
-    "disease_query = GraphQuery(DATABASE_URL).entities(entity_type=\"disease\").filter(name=\"Alzheimer\").limit(1)\n",
+    "disease_query = GraphQuery(DATABASE_URL).entities(\n",
+    "    entity_type=\"disease\"\n",
+    ").filter(name=\"Alzheimer\").limit(1)\n",
     "\n",
     "# This would require multi-hop traversal:\n",
     "# Disease → Gene/Protein → Drug\n",
@@ -839,7 +883,11 @@
     "print(\"4. Flag as controversial if both supported by high-quality evidence\\n\")\n",
     "\n",
     "# Example\n",
-    "query = GraphQuery(DATABASE_URL).relationships(predicate=\"TREATS\", subject_id=\"drug_123\", object_id=\"disease_456\")\n",
+    "query = GraphQuery(DATABASE_URL).relationships(\n",
+    "    predicate=\"TREATS\",\n",
+    "    subject_id=\"drug_123\",\n",
+    "    object_id=\"disease_456\"\n",
+    ")\n",
     "\n",
     "print(\"Would look for:\")\n",
     "print(\"- TREATS relationships with positive outcomes\")\n",
